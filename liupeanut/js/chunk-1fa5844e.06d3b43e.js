(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fa5844e"],{c98b:function(t,e,i){"use strict";i.r(e);var c=i("7a23");const s={class:"product_detail pages position-relative overflow-hidden"},a={class:"container position-relative z-index-1 box_"},o={class:"bread-crumbs py-3 px-lg-5"},r={itemscope:"",itemtype:"http://schema.org/breadcrumbList",id:"breadcrumbs"},l={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},n=Object(c["i"])("span",{itemprop:"name"},"首頁",-1),p=Object(c["i"])("meta",{itemprop:"position",content:"1"},null,-1),b={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},d=Object(c["i"])("span",{class:"mx-2"},"/",-1),m=Object(c["i"])("span",{itemprop:"name"},"商品介紹",-1),u=Object(c["i"])("meta",{itemprop:"position",content:"2"},null,-1),h={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},j=Object(c["i"])("span",{class:"mx-2"},"/",-1),O={itemprop:"name"},g=Object(c["i"])("meta",{itemprop:"position",content:"3"},null,-1),v={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},x=Object(c["i"])("span",{class:"mx-2"},"/",-1),y={itemprop:"name"},f=Object(c["i"])("meta",{itemprop:"position",content:"4"},null,-1),w={class:"main-box bg-white p-lg-5 px-4 py-4 mb-4"},_={action:"",method:"post"},I={class:"row"},L={class:"product-img col-lg-6 mb-4 mb-lg-0"},k={class:"show-box-wrap overflow-hidden position-relative"},q=["src"],S=["src"],$={class:"thumbsSlider_out position-relative mt-3 overflow-hidden"},T=["src"],U=["src"],P={class:"product-info col-lg mb-4 mb-lg-0 pl-lg-4"},C={class:"mb-4"},D={class:"info_box pt-4 pb-xl-5 pb-3 mb-2"},R=Object(c["i"])("div",{class:"price-box col-12 mb-4"},[Object(c["i"])("span",{class:"old-price me-3"},"原價 $ 150"),Object(c["i"])("span",null,[Object(c["l"])("限量優惠 $"),Object(c["i"])("span",{class:"price"},"250"),Object(c["l"])("元")])],-1),E={class:"row"},B={class:"col-sm-4 mb-4 mb-lg-1 pr-xl-4 pr-sm-0"},V={class:"count"},z={class:"row mx-0"},M=["disabled"],J={class:"col-sm mb-4 mb-lg-1 btn_box"},H={class:"row mx-n2"},N={key:0,class:"spinner-border text-warning me-xl-2 me-1",role:"status"},Z=Object(c["i"])("span",{class:"visually-hidden"},"Loading...",-1),A=[Z],F={class:"main-box bg-white px-lg-5 px-4 pt-4 pb-2"},G=Object(c["i"])("h4",{class:"text-center mb-4 pt-3"},[Object(c["i"])("span",null,"看看其它產品")],-1);function K(t,e,i,Z,K,Q){const W=Object(c["R"])("loading"),X=Object(c["R"])("pagesBanner"),Y=Object(c["R"])("router-link"),tt=Object(c["R"])("swiper-slide"),et=Object(c["R"])("swiper"),it=Object(c["R"])("svg-icon"),ct=Object(c["R"])("ProductList");return Object(c["I"])(),Object(c["h"])(c["a"],null,[Object(c["m"])(W,{active:K.isLoading},null,8,["active"]),Object(c["m"])(X),Object(c["i"])("section",s,[Object(c["i"])("div",a,[Object(c["i"])("div",o,[Object(c["i"])("ol",r,[Object(c["i"])("li",l,[Object(c["m"])(Y,{to:"/",itemprop:"item",title:"劉記花生"},{default:Object(c["eb"])(()=>[n]),_:1}),p]),Object(c["i"])("li",b,[d,Object(c["m"])(Y,{to:"/products",itemprop:"item",title:"商品介紹"},{default:Object(c["eb"])(()=>[m]),_:1}),u]),Object(c["i"])("li",h,[j,Object(c["m"])(Y,{to:"/products/"+K.product.category,itemprop:"item",title:K.product.category},{default:Object(c["eb"])(()=>[Object(c["i"])("span",O,Object(c["U"])(K.product.category),1)]),_:1},8,["to","title"]),g]),Object(c["i"])("li",v,[x,Object(c["m"])(Y,{to:"/product/"+K.product.id,itemprop:"item",title:K.product.title},{default:Object(c["eb"])(()=>[Object(c["i"])("span",y,Object(c["U"])(K.product.title),1)]),_:1},8,["to","title"]),f])])]),Object(c["i"])("div",w,[Object(c["i"])("form",_,[Object(c["i"])("div",I,[Object(c["i"])("div",L,[Object(c["i"])("div",k,[Object(c["m"])(et,{modules:[Z.Thumbs],thumbs:{swiper:Z.thumbsSwiper},spaceBetween:30},{default:Object(c["eb"])(()=>[Object(c["m"])(tt,null,{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:K.product.imageUrl,class:"w-100"},null,8,q)]),_:1}),(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(K.product.imagesUrl,t=>(Object(c["I"])(),Object(c["f"])(tt,{key:t},{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:t,class:"w-100"},null,8,S)]),_:2},1024))),128))]),_:1},8,["modules","thumbs"])]),Object(c["i"])("div",$,[Object(c["m"])(et,{modules:[Z.Thumbs],"watch-slides-progress":"",onSwiper:Z.setThumbsSwiper,spaceBetween:10,slidesPerView:3},{default:Object(c["eb"])(()=>[Object(c["m"])(tt,null,{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:K.product.imageUrl,class:"w-100"},null,8,T)]),_:1}),(Object(c["I"])(!0),Object(c["h"])(c["a"],null,Object(c["P"])(K.product.imagesUrl,t=>(Object(c["I"])(),Object(c["f"])(tt,{key:t},{default:Object(c["eb"])(()=>[Object(c["i"])("img",{src:t,class:"w-100"},null,8,U)]),_:2},1024))),128))]),_:1},8,["modules","onSwiper"])])]),Object(c["i"])("div",P,[Object(c["i"])("h3",C,"【"+Object(c["U"])(K.product.title)+"】",1),Object(c["i"])("div",D,[Object(c["i"])("p",null,Object(c["U"])(K.product.description),1),Object(c["i"])("p",null,Object(c["U"])(K.product.content),1)]),R,Object(c["i"])("div",E,[Object(c["i"])("div",B,[Object(c["i"])("div",V,[Object(c["i"])("div",z,[Object(c["i"])("button",{class:"col-auto value-button decrease_ btn btn-primary",id:"",value:"Decrease Value",onClick:e[0]||(e[0]=Object(c["hb"])(t=>K.qty-=1,["prevent"])),disabled:1===K.qty},[Object(c["m"])(it,{name:"less"})],8,M),Object(c["fb"])(Object(c["i"])("input",{class:"col qty px-1",min:"1",type:"number",onkeyup:"value=value.replace(/[^\\d]+/g,'')","onUpdate:modelValue":e[1]||(e[1]=t=>K.qty=t)},null,512),[[c["Z"],K.qty,void 0,{number:!0}]]),Object(c["i"])("button",{class:"col-auto value-button increase_",id:"",value:"Increase Value",onClick:e[2]||(e[2]=Object(c["hb"])(t=>K.qty+=1,["prevent"]))},[Object(c["m"])(it,{name:"add"})])])])]),Object(c["i"])("div",J,[Object(c["i"])("div",H,[Object(c["i"])("a",{href:"",class:Object(c["x"])(["col px-1 mx-2 btn btn-outline-primary d-flex align-items-center justify-content-center",{disabled:K.loadingItem}]),onClick:e[3]||(e[3]=Object(c["hb"])(t=>Q.addCart(),["prevent"]))},[K.loadingItem?(Object(c["I"])(),Object(c["h"])("div",N,A)):Object(c["g"])("",!0),Object(c["m"])(it,{name:"cart",class:Object(c["x"])(["svg me-xl-2 me-1",{"d-none":K.loadingItem}])},null,8,["class"]),Object(c["l"])(" 加入購物車")],2),Object(c["i"])("button",{class:"btn btn-primary col px-1 mx-2",onClick:e[4]||(e[4]=Object(c["hb"])(t=>Q.goCart(),["prevent"]))}," 直接購買 ")])])])])])])]),Object(c["i"])("div",F,[G,Object(c["m"])(ct,{list:K.other,page:K.currentPage,onPrdLink:Q.changLink},null,8,["list","page","onPrdLink"])])])])],64)}i("14d9");var Q=i("4da1"),W=i("d15c"),X=i("f754"),Y=(i("41fa"),i("d037")),tt=i("1c14"),et=i("cfb9"),it={components:{pagesBanner:Y["a"],Swiper:W["a"],SwiperSlide:X["a"],ProductList:tt["a"]},data(){return{isLoading:!1,loadingItem:!1,product:{},id:"",other:[],qty:1,currentPage:1}},watch:{qty(){this.qty<1&&(this.qty=1)},id(){this.qty=1}},methods:{getData(){this.isLoading=!0;const t="https://vue3-course-api.hexschool.io/api/hexacervue3/product/"+this.id;this.$http.get(t).then(t=>{this.isLoading=!1,t.data.success&&(this.product=t.data.product)})},getOther(){const t="https://vue3-course-api.hexschool.io/api/hexacervue3/products/all";this.$http.get(t).then(t=>{t.data.success&&(this.other=t.data.products,this.randomData())})},randomData(){var t=[],e=3;const i=this;for(var c=0;c<i.other.length;c++){var s=Math.floor(Math.random()*(i.other.length-c));t.push(i.other[s]),i.other[s]=i.other[i.other.length-c-1]}const a=[];t.forEach((t,i)=>{i%e===0&&a.push([]);const c=parseInt(i/e);a[c].push(t)}),this.other=a.slice(0,1)},simpleScrollTrigger(){this.gsap.from(".box_",{y:50,opacity:0,duration:1,delay:.5,scrollTrigger:{trigger:".box_",start:"top 90%"}})},changLink(t){this.id=t,this.getData(),this.getOther()},addCart(){this.loadingItem=!0;const t="https://vue3-course-api.hexschool.io/api/hexacervue3/cart",e={product_id:this.id,qty:this.qty};this.$http.post(t,{data:e}).then(t=>{t.data.success&&(this.loadingItem=!1,et["a"].emit("getData"),this.$httpMessage(t,"加入購物車"))})},goCart(){const t="https://vue3-course-api.hexschool.io/api/hexacervue3/cart",e={product_id:this.id,qty:this.qty};this.$http.post(t,{data:e}).then(t=>{t.data.success&&(et["a"].emit("getData"),this.$router.push("/cart"))})}},created(){this.id=this.$route.params.productId,this.getData(),this.getOther()},mounted(){this.simpleScrollTrigger()},setup(){const t=Object(c["N"])(null),e=e=>{t.value=e};return{Thumbs:Q["c"],thumbsSwiper:t,setThumbsSwiper:e}}},ct=i("6b0d"),st=i.n(ct);const at=st()(it,[["render",K]]);e["default"]=at},d037:function(t,e,i){"use strict";var c=i("7a23");const s={key:0,class:"banner_page position-relative"},a={class:"container h-100 position-relative z-index-1"},o={class:"row h-100 mx-0 align-items-center"},r={key:0,class:"overflow-hidden px-lg-5 px-0"},l={class:"page-title box"};function n(t,e,i,n,p,b){return p.slide.photo?(Object(c["I"])(),Object(c["h"])("section",s,[Object(c["i"])("div",{class:"top_img parallax","data-depth":"0.40",style:Object(c["z"])(`background-image: url('./img/${p.slide.photo}')`),ref:"parallax"},null,4),Object(c["i"])("div",a,[Object(c["i"])("div",o,[p.slide?(Object(c["I"])(),Object(c["h"])("div",r,[Object(c["i"])("h2",l,"【 "+Object(c["U"])(p.slide.name)+" 】",1)])):Object(c["g"])("",!0)])])])):Object(c["g"])("",!0)}var p={data(){return{slide:{}}},methods:{simpleScrollTrigger(){const t=this.$refs.parallax.dataset.depth,e=-this.$refs.parallax.offsetHeight*t;this.gsap.to(".parallax",{y:e,ease:"none",scrollTrigger:{trigger:"body",start:"top",scrub:1}}),this.gsap.from(".box",{y:50,opacity:0,duration:1.5,scrollTrigger:{trigger:".box",start:"top 90%"}})}},mounted(){const t=this,e="./json/pagesBanner.json";this.$http.get(e).then(e=>{e.data.forEach((function(e){e.type===t.$route.name&&(t.slide=e)}))}).then(()=>{this.simpleScrollTrigger()})}},b=i("6b0d"),d=i.n(b);const m=d()(p,[["render",n]]);e["a"]=m}}]);
//# sourceMappingURL=chunk-1fa5844e.06d3b43e.js.map