(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f2b458e"],{"1c14":function(t,e,i){"use strict";var a=i("7a23"),c=i("d176"),s=i.n(c);const n={class:"row list prd-list mb-lg-4 mx-n2"},l={class:"inner bg-white p-4"},o={class:"img mb-3 position-relative"},r=Object(a["i"])("span",{class:"tag"},"熱賣商品",-1),p=["src","alt"],b={class:"mb-lg-5 mb-4 row mx-0 align-items-center justify-content-between pt-2 flex-sm-nowrap"},d=["onClick"],m={key:0,class:"spinner-border text-warning ms-1",role:"status"},g=Object(a["i"])("span",{class:"visually-hidden"},"Loading...",-1),j=[g],u=Object(a["i"])("span",{class:"col text-end px-0 d-flex flex-wrap justify-content-end align-items-end"},[Object(a["i"])("span",{class:"old-price mb-1"},"原價 $ 150"),Object(a["i"])("span",{class:"ms-md-3 ms-1 price mb-1"},[Object(a["l"])("限量優惠 "),Object(a["i"])("span",null,"$ 120")])],-1),O={class:"text-center mb-lg-3 mb-2"};function h(t,e,i,c,g,h){const f=Object(a["R"])("router-link");return Object(a["I"])(),Object(a["h"])("div",n,[(Object(a["I"])(!0),Object(a["h"])(a["a"],null,Object(a["P"])(i.list[i.page-1],e=>(Object(a["I"])(),Object(a["h"])("div",{class:"col-lg-4 col-sm-6 mb-4 pb-3 px-2",key:e},[Object(a["i"])("div",l,[Object(a["i"])("div",o,[r,Object(a["m"])(f,{to:"/product/"+e.id,onClick:i=>t.$emit("prd-link",e.id)},{default:Object(a["eb"])(()=>[Object(a["i"])("img",{src:e.imageUrl,alt:e.title,class:"w-100"},null,8,p)]),_:2},1032,["to","onClick"])]),Object(a["m"])(f,{to:"/product/"+e.id,class:"d-inline-block title mb-lg-4",onClick:i=>t.$emit("prd-link",e.id)},{default:Object(a["eb"])(()=>[Object(a["l"])(Object(a["U"])(e.title),1)]),_:2},1032,["to","onClick"]),Object(a["i"])("div",b,[Object(a["i"])("a",{href:"",class:Object(a["x"])([{disabled:g.loadingItem===e.id},"me-3 cart_img col-auto px-0 d-flex align-items-center justify-content-center"]),onClick:Object(a["hb"])(t=>h.addCart(e),["prevent"])},[g.loadingItem===e.id?(Object(a["I"])(),Object(a["h"])("div",m,j)):Object(a["g"])("",!0),Object(a["i"])("img",{class:Object(a["x"])({"d-none":g.loadingItem===e.id}),src:s.a,alt:""},null,2)],10,d),u]),Object(a["i"])("div",O,[Object(a["m"])(f,{to:"/product/"+e.id,class:"btn btn-outline-primary",onClick:i=>t.$emit("prd-link",e.id)},{default:Object(a["eb"])(()=>[Object(a["l"])(" 詳細介紹 ")]),_:2},1032,["to","onClick"])])])]))),128))])}var f={props:["list","page"],inject:["emitter"],data(){return{loadingItem:""}},methods:{addCart(t){this.loadingItem=t.id;const e="https://vue3-course-api.hexschool.io/api/hexacervue3/cart",i={product_id:t.id,qty:1};this.$http.post(e,{data:i}).then(t=>{t.data.success&&(this.loadingItem="",this.emitter.emit("getData"),this.$httpMessage(t,"加入購物車"))})}}},v=i("6b0d"),x=i.n(v);const y=x()(f,[["render",h]]);e["a"]=y},"3e2b":function(t,e,i){"use strict";i.r(e);var a=i("7a23");const c={class:"product_list pb-5",ref:"product_list"},s={class:"container position-relative z-index-1"},n={class:"px-lg-5"},l={class:"bread-crumbs pt-2 pb-4"},o={itemscope:"",itemtype:"http://schema.org/breadcrumbList",id:"breadcrumbs"},r={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},p=Object(a["i"])("span",{itemprop:"name"},"首頁",-1),b=Object(a["i"])("meta",{itemprop:"position",content:"1"},null,-1),d={itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},m=Object(a["i"])("span",{class:"mx-2"},"/",-1),g=Object(a["i"])("span",{itemprop:"name"},"商品介紹",-1),j=Object(a["i"])("meta",{itemprop:"position",content:"2"},null,-1),u={key:0,itemprop:"itemListElement",itemscope:"",itemtype:"http://schema.org/ListItem"},O=Object(a["i"])("span",{class:"mx-2"},"/",-1),h={itemprop:"name"},f=Object(a["i"])("meta",{itemprop:"position",content:"3"},null,-1),v={class:"nav nav-pills mb-4 mx-n2 justify-content-center justify-content-lg-start",id:"pills-tab",role:"tablist"},x={class:"nav-item",role:"presentation"},y={class:"tab-content mb-4",id:"pills-tabContent"},k={class:"tab-pane fade show active",role:"tabpanel"};function $(t,e,i,$,I,P){const w=Object(a["R"])("loading"),C=Object(a["R"])("pagesBanner"),_=Object(a["R"])("router-link"),L=Object(a["R"])("ProductList"),N=Object(a["R"])("Pagination");return Object(a["I"])(),Object(a["h"])(a["a"],null,[Object(a["m"])(w,{active:I.isLoading},null,8,["active"]),Object(a["m"])(C),Object(a["i"])("section",c,[Object(a["i"])("div",s,[Object(a["i"])("div",n,[Object(a["i"])("div",l,[Object(a["i"])("ol",o,[Object(a["i"])("li",r,[Object(a["m"])(_,{to:"/",itemprop:"item",title:"劉記花生"},{default:Object(a["eb"])(()=>[p]),_:1}),b]),Object(a["i"])("li",d,[m,Object(a["m"])(_,{to:"/products",itemprop:"item",title:"商品介紹"},{default:Object(a["eb"])(()=>[g]),_:1}),j]),t.$route.params.categoryName?(Object(a["I"])(),Object(a["h"])("li",u,[O,Object(a["m"])(_,{to:"/products/"+t.$route.params.categoryName,itemprop:"item",title:t.$route.params.categoryName},{default:Object(a["eb"])(()=>[Object(a["i"])("span",h,Object(a["U"])(t.$route.params.categoryName),1)]),_:1},8,["to","title"]),f])):Object(a["g"])("",!0)])]),Object(a["i"])("ul",v,[Object(a["i"])("li",x,[Object(a["m"])(_,{to:"/products",class:Object(a["x"])(["nav-link",{active:""===t.$route.params.categoryName}])},{default:Object(a["eb"])(()=>[Object(a["l"])(" 全部商品 ")]),_:1},8,["class"])]),(Object(a["I"])(!0),Object(a["h"])(a["a"],null,Object(a["P"])(I.classification,e=>(Object(a["I"])(),Object(a["h"])("li",{class:"nav-item",role:"presentation",key:e},[Object(a["m"])(_,{to:"/products/"+e,class:Object(a["x"])(["nav-link",{active:t.$route.params.categoryName===e}])},{default:Object(a["eb"])(()=>[Object(a["l"])(Object(a["U"])(e),1)]),_:2},1032,["to","class"])]))),128))]),Object(a["i"])("div",y,[Object(a["i"])("div",k,[Object(a["m"])(L,{list:P.filterData,page:I.currentPage},null,8,["list","page"])])]),Object(a["m"])(N,{pages:P.filterData,page:I.currentPage,onChangPage:P.changPage},null,8,["pages","page","onChangPage"])])])],512)],64)}i("14d9");const I={"aria-label":"Page navigation example"},P={class:"pagination justify-content-center"},w=Object(a["i"])("i",{class:"bi bi-chevron-left"},null,-1),C=[w],_=["onClick"],L=Object(a["i"])("i",{class:"bi bi-chevron-right"},null,-1),N=[L];function E(t,e,i,c,s,n){return Object(a["I"])(),Object(a["h"])("nav",I,[Object(a["i"])("ul",P,[Object(a["i"])("li",{class:Object(a["x"])(["page-item",{disabled:1==i.page}])},[Object(a["i"])("a",{class:"page-link",href:"#","aria-label":"Previous",onClick:e[0]||(e[0]=Object(a["hb"])(t=>this.$emit("chang-page",i.page-1),["prevent"]))},C)],2),(Object(a["I"])(!0),Object(a["h"])(a["a"],null,Object(a["P"])(i.pages.length,t=>(Object(a["I"])(),Object(a["h"])("li",{class:"page-item",key:t},[Object(a["i"])("a",{class:Object(a["x"])(["page-link",{active:i.page===t}]),href:"#",onClick:Object(a["hb"])(e=>this.$emit("chang-page",t),["prevent"])},Object(a["U"])(t),11,_)]))),128)),Object(a["i"])("li",{class:Object(a["x"])(["page-item",{disabled:i.page==i.pages.length}])},[Object(a["i"])("a",{class:"page-link",href:"#","aria-label":"Next",onClick:e[1]||(e[1]=Object(a["hb"])(t=>this.$emit("chang-page",i.page+1),["prevent"]))},N)],2)])])}var T={props:["pages","page"]},R=i("6b0d"),U=i.n(R);const D=U()(T,[["render",E]]);var z=D,B=i("d037"),S=i("1c14"),J={components:{pagesBanner:B["a"],ProductList:S["a"],Pagination:z},data(){return{isLoading:!1,products:[],classification:[],currentPage:1}},watch:{filterData(){this.currentPage=1}},computed:{filterData(){const t=this;if(""===this.$route.params.categoryName){const t=[];return this.products.forEach((e,i)=>{i%6===0&&t.push([]);const a=parseInt(i/6);t[a].push(e)}),t}{var e=[];this.products.forEach((function(i){i.category===t.$route.params.categoryName&&e.push(i)}));const i=[];return e.forEach((t,e)=>{e%6===0&&i.push([]);const a=parseInt(e/6);i[a].push(t)}),i}}},mounted(){this.getProducts()},methods:{getProducts(){this.isLoading=!0;const t=this,e="https://vue3-course-api.hexschool.io/api/hexacervue3/products/all";this.$http.get(e).then(e=>{if(this.isLoading=!1,e.data.success&&(this.products=e.data.products,0===t.classification.length)){let e=new Set;e=this.products.filter((function(t){if(!e.has(t.category))return e.add(t.category)})),e.filter((function(e){return t.classification.push(e.category)}))}}).then(()=>{t.gsap.from(".prd-list > div",{scrollTrigger:".prd-list",duration:1.15,y:50,opacity:0,stagger:.3})})},changPage(t){this.currentPage=t,document.documentElement.scrollTop=this.$refs.product_list.offsetTop-150}}};const q=U()(J,[["render",$]]);e["default"]=q},d037:function(t,e,i){"use strict";var a=i("7a23");const c={key:0,class:"banner_page position-relative"},s={class:"container h-100 position-relative z-index-1"},n={class:"row h-100 mx-0 align-items-center"},l={key:0,class:"overflow-hidden px-lg-5 px-0"},o={class:"page-title box"};function r(t,e,i,r,p,b){return p.slide.photo?(Object(a["I"])(),Object(a["h"])("section",c,[Object(a["i"])("div",{class:"top_img parallax","data-depth":"0.40",style:Object(a["z"])(`background-image: url('./img/${p.slide.photo}')`),ref:"parallax"},null,4),Object(a["i"])("div",s,[Object(a["i"])("div",n,[p.slide?(Object(a["I"])(),Object(a["h"])("div",l,[Object(a["i"])("h2",o,"【 "+Object(a["U"])(p.slide.name)+" 】",1)])):Object(a["g"])("",!0)])])])):Object(a["g"])("",!0)}var p={data(){return{slide:{}}},methods:{simpleScrollTrigger(){const t=this.$refs.parallax.dataset.depth,e=-this.$refs.parallax.offsetHeight*t;this.gsap.to(".parallax",{y:e,ease:"none",scrollTrigger:{trigger:"body",start:"top",scrub:1}}),this.gsap.from(".box",{y:50,opacity:0,duration:1.5,scrollTrigger:{trigger:".box",start:"top 90%"}})}},mounted(){const t=this,e="./json/pagesBanner.json";this.$http.get(e).then(e=>{e.data.forEach((function(e){e.type===t.$route.name&&(t.slide=e)}))}).then(()=>{this.simpleScrollTrigger()})}},b=i("6b0d"),d=i.n(b);const m=d()(p,[["render",r]]);e["a"]=m},d176:function(t,e,i){t.exports=i.p+"img/cart.7dd702ec.svg"}}]);
//# sourceMappingURL=chunk-7f2b458e.39fce5c0.js.map